## フィードバック　まとめ

<details>
<summary><h3>初回提出後（5/30）</h3></summary>

- Who(誰のため？)
  - もう少し詳しく想定し、書いたほうがよい
  - 例：年齢層、1人の患者につき何人を想定しているか
  - 例：医療機関・事業所の職員の役職など

- Why(なぜ創る？)
  - 電話や対面で話すという箇所で、「LINE」などを活用できないか？を考える。
  - もしLINEでは良くない理由があればそれも書き出す。
  - →このような「他のアプリではここが良くない！」みたいな箇所を今回作るプロダクトで解決する。
  - 話した２人しか情報を共有できておらずの箇所で、実際に問題として存在していると思うが、情報共有できなかったことによるデメリットを書き出す。
  - 更に、現状、情報共有をする上での難点も書き出しておく。

- 共通
  - 「現状どのようにして対応しているか」を箇条書きで書いておく。
</details>

<details>
<summary><h3>２回目提出後（6/28）</h3></summary>

- 現状把握
  - 医師、看護師、ケアマネジャー等の医療介護従事者と家族がどのようにして繋がっているかそれぞれの職種ごとに具体例を書き出す。
  - それぞれの立場上のデメリットを書き出し、それを解決するためのプロダクトにする。

- 方針
  - 薬の服用の管理や緊急時の迅速な対応は「命に関わること」も多いので、その管理・対応の一助となるプロダクトを作る。
  - 薬を飲んだかどうかチェックする機能を追加して、「LINE」や「Slack」との違いを出していく。

- 設計
  - ログイン機能は、「devise」をおそらく用いることになる
  - 高齢者にも分かりやすいデザインとは？
    - シンプル
    - 既存の使い慣れたサービスを参考にする
  - システム構成において、インスタンスは１つでもOK
  - テーブルを作る前に、どのデータを抽出するか書き出して決めてからテーブル設計すること。
  - 個人情報扱う場合は、利用規約とプライバシーポリシーの同意を付ける。（似たようなアプリのものを代用可能）

- 開発
  - 設計・開発の進め方は、いきなり難易度が高いものは手が出しづらいので、難易度が「中」以下になるように細かく細分化して、業務に取り組む。

</details>

<details>
<summary><h3>３回目提出後（7/13）</h3></summary>

【まとめ】

全体を通して機能案や画面案が膨らんできているので、「優先順位」を先に決めてからER図やテーブルを作っていくと良い。
- 優先順位
  - 認証（必須）
  - 患者一覧（認証パターンよっては必須）
  - チャット（必須 or アドバンス）
  - お薬一覧（必須 or アドバンス）
  - お薬カレンダー（アドバンス）
    - カレンダーをアドバンスにしたのは「カレンダーを作るのが難しい＆WFのカレンダーの下にある一覧でなんとかカバーできそう」だから
- Who
  - 各ユーザーについて結構細かく書けていてOK
- What, Why
  - 情報共有の難しさ、重要性が伝わってきてOK
  - 「これはアプリが必要だな！」というのがわかる
- How
  - 非常時の対応は難しいと思う
  - 非常時のことは「電話で対応するだろうから、アプリには非常時の機能はつけない」としてもいい

- 業務フロー
  - 認証機能
    - 認証は1つ作るの大変であるため、現在のユーザー登録が医療介護従事者、患者本人、患者家族で３パターンから、どうにか１パターンに収めたい
    - 案としてはユーザー登録するのは「患者家族（のみ）」で、患者本人と医療介護従事者は患者家族が情報を登録しID・パスをそれぞれに伝える、という方法はどうか？
    - この場合、医療介護従事者が「患者情報を新規登録する」という画面は無くなくなる
    - 「ユーザー登録するのは一人」ということにしたいだけなので、患者家族のみでなくとも、医療介護従事者のみ、ということにしても可能ではある

- 画面遷移図
  - 医療介護従事者の画面で、ログイン後に表示される画面は患者リストでよいか？
    - ログイン後の画面＝ホーム画面となり、「医療介護従事者が最も使う画面」「医療介護従事者が最も知りたい情報が載った画面」「今回のコンセプト的に最も重要な情報が載った画面」を表示させる
    - そうなると、チャット画面やお薬管理画面なると思う。

- ワイヤーフレーム
  - メニューバー
    - 全体のことだが、「情報が上から下に流れている画面が多い」こともあって、ヘッダーではなくサイドメニューのが見やすいと思う

  - ユーザーアイコン
    - 患者、患者家族、医療介護従事者に対してアイコンの「画像」は必要かどうか？
    - エンジニアになり今回のような「ユーザー管理系」のアプリを作って運用したが、ユーザーが自分の画像を登録した試しがほとんどなかった
    - もし「画像があった方が〇〇においてメリットがある」というようなことがあれば画像があっても良い

  - チャット画面
    - OK, もしUIで迷ったら「LINE」の画面を参考にしたらいい

  - お薬管理画面
    - カレンダーは今回見送る
    - 今日の日付と服用するお薬一覧がでるようにする

  - メニュー画面
    - OK, ユーザーがあまり使わないであろう項目をメニューにしているのが良い

</details>

<details>
<summary><h3>４回目提出後（7/15）</h3></summary>

- 業務フロー
  - 「ユーザー」について
    - 「患者家族」「医療介護従事者（介護士、看護師、医師など）」「患者本人」と明確に書き分ける。
  - 認証機能について
    - ユーザー登録を自身で行えるのは「患者本人」のみ
    - 「患者家族」「医療介護従事者」については「患者本人」に作ってもらう
    - テーブル設計するときのポイントして「患者本人」に紐づく形で「患者家族」「医療介護従事者」が作られている点

- ワイヤーフレーム
  - 認証機能
    - 名前のところは「姓、名」に分けると意外と面倒になので、「名前」という形にしておく。
    - 施設名は覚えることができるので省く。
    - ユーザータイプは「患者」「患者家族」「看護師」「医師」「ケアマネジャー」の５タイプからセレクトボックスで選択できるようにする。
  - チャット機能
    - スレッド機能についてはAdvancedとする。
    - チャットが頻繁にあり、会話流れてしまうことはあまり考えられないため。
  - 通知機能
    - 通知があればメールで知らせるようにする。→「ActiveMailer」を使用
    - コア機能を優先するためAdvancedとする。

- データベース設計
  - チャット機能は「ユーザー」に紐づく
  - お薬管理機能は「患者本人」に紐づく

</details>

<details>
<summary><h3>チャット機能の画像について（7/16）</h3></summary>

- 画像の保存方法
  - AWSのS３を用いて保存したほうがいい。
  - ただ、時間がかかるので開発フェーズの後半あたりに「画像」を機能に入れるかどうか判断する
  - データベースに保存する時間×1.5くらいでS３の実装ができるイメージ

- 一般的な画像データの保存例
  1. アップロードされた画像ファイルは、アプリケーションサーバーによって受け取る。
  2. アプリケーションサーバーは、その画像ファイルをAWS S3にアップロードする。この際、AWS SDK（ソフトウェア開発キット）を使用する。
  3. AWS S3は、アップロードされたファイルに対して一意なURLを生成する。
  4. このURLは、アプリケーションサーバーによってデータベースに保存される。
  5. ユーザーが画像を表示する必要がある場合、データベースからそのURLを取得し、そのURLを使って画像を直接S3から取得する。

- この方法を使用すると、画像データ自体がデータベースサーバーの容量を圧迫することなく、効率的に画像を保存し、提供することが可能になる。また、AWS S3は高い耐久性とスケーラビリティを提供しており、データのバックアップや冗長性の面でも優れた選択肢となるだろう。

</details>


<details>
<summary><h3>５回目提出後（7/18）</h3></summary>

**ER図**
- 認証機能
  - 補足資料にもあったように、「患者」というテーブルに紐づく形で「患者本人」「家族」「医療関係者」が存在しており、この形をとるならばこのER図で良い
  - 「患者」データと「患者本人」データを同時に生成するので、ChatGPTにもあるようにTransactionという仕組みを利用して、データの整合性を担保する必要がある
- メッセージ機能
  - StampテーブルがMessageに紐づいているが、カラムを見ると「user_id」が存在するので、StampテーブルとUserテーブルが紐づいていることを指してるので、これもER図で繋げておく
  - つなげていると分かるが、ここは結構複雑
  - MessageテーブルとStampテーブルは多対多の関係で、StampテーブルとUserテーブルも多対多の関係
  - 最低限のコア機能作ってからスタンプ機能を実装する
- お薬管理機能
  - SchedulesテーブルとRecordテーブルは１対１になる
  - 「Schedulesデータ：服用する時間」で「Recordデータ：服用したかどうか」
　
</details>
